<footer class="page-footer teal">
    <div class="container">
        <div class="section">

            <!--   Icon Section   -->
            <div class="row">
                <div class="col s12 m4">
                    <div class="icon-block">
                        <h5 class="center">Work hours</h5>

                        <p class="light">We are open 24 hours<br>Emails and text messages can be answered within a day</p>
                    </div>
                </div>

                <div class="col s12 m4 offset-m4">
                    <div class="icon-block">
                        <h5 class="center">Suggestions?</h5>

                        <p class="light">Help us improve Innovative Solutions by emailing us at <a href="mailto:innovativesolutions@gmail.com">@innovativesolutions@gmail.com</a></p>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="footer-copyright">
        <div class="container">
            <a class="brown-text text-lighten-3">Innovative Solutions</a>
        </div>
    </div>
</footer>

<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="resources/js/materialize.js"></script>
<script src="resources/js/init.js"></script>
<script>
    $(document).ready(function () {
        $('select').formSelect();
    });

    function getProducts() {
        var xhr = new XMLHttpRequest();
        var cat = document.querySelector('#cat').value;
        var url = `GetProducts?view=json&cat=${cat}`;
        xhr.open('GET', url);
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                showProducts(cat, xhr.responseText);
            }
        }
        xhr.send();
    }

    function showProducts(cat, json) {
        var products = JSON.parse(json);
        var div = document.querySelector('#showHomesArea');
        var content = '<h1>Product List</h1>';
        content += `<h2>Category: ${cat}</h2>`;
        if (products.length == 0) {
            content += '<h2>No available products.</h2>';
        } else {
            content += `
                        <table style='border-collapse: collapse; border: 1px solid black'>
                            <thead style='color: yellow; background-color: black'>
                                <tr>
                                    <th>ProdID</th>
                                    <th>Description</th>
                                    <th>Price</th>
                                    <th>Image</th>
                                </tr>
                            </thead>
                            <tbody style='border: inherit'>`;
            let style = "style = 'border: inherit; padding: 5px 10px'";
            products.forEach(product => {
                content += `
                            <tr style='border: inherit'>
                                <td ${style}>${product.prodid}</td>
                                <td ${style}>${product.description}</td>
                                <td ${style}>${Number(product.price).toFixed(2)}</td>
                                <td ${style}><img style='width: 50px' alt='${product.description}' src='dbimages/${product.prodid}'></td>
                            </tr>`;
            });

            content += `
                            </tbody>
                            </table>`;
        }

        div.innerHTML = content;
    }
</script>


</body>

</html>